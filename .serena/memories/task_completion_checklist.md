# タスク完了時のチェックリスト

## 必須チェック項目

### 1. コード品質確認
- [ ] **TypeScriptコンパイル**: `npx tsc --noEmit` でエラーなし
- [ ] **型安全性**: `any`型の使用がないか確認
- [ ] **エラーハンドリング**: 適切なtry-catch文の使用
- [ ] **関心の分離**: UI、ビジネスロジック、データアクセスの適切な分離

### 2. テスト実行
- [ ] **ユニットテスト**: `npm run test` で全テスト通過
- [ ] **E2Eテスト**: `npm run test:e2e` で主要シナリオ通過
- [ ] **テストカバレッジ**: 新機能のテストカバレッジ80%以上
- [ ] **テストケース**: 正常系・異常系の両方をカバー

### 3. 動作確認
- [ ] **開発サーバー**: `npm run dev` で正常起動
- [ ] **ビルド**: `npm run build` でエラーなし
- [ ] **基本機能**: 実装した機能の動作確認
- [ ] **エラーハンドリング**: エラー状況での適切な動作確認

## コミット・PR作成

### 4. Conventional Commits準拠
- [ ] **コミットメッセージ**: `type(scope): 日本語説明 [refs #Issue番号]`形式
- [ ] **原子コミット**: 1コミット1トピックの遵守
- [ ] **Issue番号**: 関連Issueの適切な記載

### 5. ブランチ管理
- [ ] **ブランチ作成**: mainブランチから派生したfeature/fixブランチ
- [ ] **命名規則**: `feat/`, `fix/`, `refactor/`, `docs/`, `test/`, `chore/`
- [ ] **mainブランチ保護**: 直接コミット禁止の遵守

### 6. Pull Request作成
- [ ] **GitHub CLI使用**: `gh pr create`でPR作成
- [ ] **日本語説明**: タイトル・説明文の日本語記載
- [ ] **関連Issue**: PRとIssueの適切な関連付け

## ドキュメント更新

### 7. ドキュメント整合性
- [ ] **README.md**: 機能追加時の更新
- [ ] **API仕様**: エンドポイント追加時の文書化
- [ ] **型定義**: 新しい型の適切な文書化
- [ ] **Composables**: 新機能のImportガイド更新

## TDD（テスト駆動開発）遵守

### 8. TDDサイクル確認
- [ ] **Red**: テストを先に書いて失敗させた
- [ ] **Green**: 最小限の実装でテストを通した
- [ ] **Refactor**: テスト通過後にリファクタリングを実施
- [ ] **F.I.R.S.T原則**: Fast, Independent, Repeatable, Self-Validating, Timely

## セキュリティ・パフォーマンス

### 9. セキュリティチェック
- [ ] **環境変数**: 機密情報のハードコーディング禁止
- [ ] **入力値検証**: ユーザー入力の適切なバリデーション
- [ ] **認証認可**: 必要な画面での認証チェック（該当する場合）

### 10. パフォーマンス確認
- [ ] **ビルドサイズ**: 不要な依存関係の追加なし
- [ ] **メモリリーク**: `onBeforeUnmount`での適切なクリーンアップ
- [ ] **レンダリング最適化**: 不要な再レンダリングの防止

## 本番環境考慮

### 11. 本番準備
- [ ] **環境変数**: 本番・開発環境の適切な分離
- [ ] **ログレベル**: 本番環境での適切なログ設定
- [ ] **エラー監視**: エラー発生時の適切な通知設定（該当する場合）

## リリース準備

### 12. 最終確認
- [ ] **機能完成度**: 要件を満たしていることの確認
- [ ] **後方互換性**: 既存機能への影響がないことの確認
- [ ] **ユーザビリティ**: エンドユーザーの使いやすさ確認

## 完了コマンド実行順序

```bash
# 1. TypeScriptチェック
npx tsc --noEmit

# 2. ユニットテスト実行
npm run test

# 3. E2Eテスト実行（必要に応じて）
npm run test:e2e

# 4. ビルドテスト
npm run build

# 5. 開発サーバー動作確認
npm run dev

# 6. コミット（Conventional Commits形式）
git add .
git commit -m "feat(scope): 機能説明 [refs #123]"

# 7. Push & PR作成
git push origin feature-branch
gh pr create --title "機能追加: タイトル" --body "詳細説明"
```

## トラブルシューティング

### よくある問題の対処法
- **TypeScriptエラー**: 型定義の確認、`any`型の回避
- **テスト失敗**: モックの設定、非同期処理の適切な処理
- **ビルドエラー**: 依存関係の確認、importパスの修正
- **E2Eテスト失敗**: セレクタの確認、待機時間の調整

### エスカレーション基準
- 3回以上の連続テスト失敗
- TypeScriptエラーが解決できない場合
- パフォーマンス問題の発生
- セキュリティに関わる問題の発見